<div class="connecting" ng-show="connecting" ngCloak>
  <span>

    <svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg" stroke="#fff">
    <g fill="none" fill-rule="evenodd">
        <g transform="translate(1 1)" stroke-width="2">
            <circle stroke-opacity=".5" cx="18" cy="18" r="18"/>
            <path d="M36 18c0-9.94-8.06-18-18-18">
                <animateTransform
                    attributeName="transform"
                    type="rotate"
                    from="0 18 18"
                    to="360 18 18"
                    dur="1s"
                    repeatCount="indefinite"/>
            </path>
        </g>
    </g>
  </svg>
  <p>A ligar o servidor...</p>
</span>
</div>
<header class="row medium-uncollapse large-collapse">
    <h1 id="logo" class="small-12 small-centered columnss"><img src="img/totonome.png" alt="logotipo totonome"></h1>
</header>
<div id="myModal" class="reveal-modal medium" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
    <h2 id="modalTitle">Perdeste!</h2>
    <p class="lead">Não era fácil, mas conseguiste {{pontuacao}} pontos!</p>
    <p>
      Partilha a tua pontuação: <a href="" ng-click="scoreTwitter()">Twitter</a>,&nbsp;<a href="" ng-click="scoreFacebook()">Facebook</a>,&nbsp;<a href="" ng-click="scoreEmail()">E-mail</a>
    </p>
    <p>
      <a class="btn" ng-click="reload()">Joga outra vez</a>
    </p>
</div>
<section id="main">
  <div class="row medium-uncollapse large-collapse">
    <h3 class="large-6 large-offset-3 medium-8 small-12 columns">Qual destes nomes foi aprovado?</h3>
    <div id="results" class="large-2 medium-3 small-8 columns">
      <ul id="lives" class="row">
        <li ng-repeat="i in range(vidas) track by $index">&nbsp;</li><li ng-repeat="i in range(vidasIniciais-vidas) track by $index" class="lost">&nbsp;</li>
      </ul>
      <p class="points row">{{pontuacao}} pontos</p>
    </div>
    <p class="sound-btn large-1 medium-1 small-4 columns">
      <a href="#" ng-click="changeSound()" class="sound" ng-class="soundOn?'':'mute'"></a>
    </p>
  </div><!-- /#results-->
  <div id="game" class="row medium-uncollapse large-collapse">
    <div class="small-12 columns">
      <h2 id="option-1" ng-click="clicked(0)" stop-event 
        ng-class="ultimaRespostaCorrecta!=''?(ultimaRespostaCorrecta==sorteado1?'correct':''):(selectedWord==sorteado1?'selected':(blocked?'unselected':''))">{{sorteado1}}</h2>
      <p><em>Ou</em></p>
      <h2 id="option-2" ng-click="clicked(1)" stop-event 
        ng-class="ultimaRespostaCorrecta!=''?(ultimaRespostaCorrecta==sorteado2?'correct':''):(selectedWord==sorteado2?'selected':(blocked?'unselected':''))">{{sorteado2}}</h2>
    </div>
  </div><!-- /#game -->
  <div id="message" class="row medium-uncollapse large-collapse">
    <p class="small-12 columns" ng-show="total >0"><strong ng-show="venceuUltimo">Acertaste!</strong><strong ng-show="!venceuUltimo">Falhaste!</strong> ({{ultimo1}} vs {{ultimo2}}) Desafia os teus amigos: <a href="" ng-click="challengeTwitter()">Twitter</a>,&nbsp;<a href="" ng-click="challengeFacebook()">Facebook</a>,&nbsp;<a href="" ng-click="challengeMail()">E-mail</a></p>
  </div><!-- /#message -->
</section><!-- /#main -->

<section id="about">
  <div class="row medium-uncollapse large-collapse">
    <div class="large-8 large-centered columns">
        <h2>O que é o Totonome?</h2>
        <p>Todos os anos, centenas de nomes próprios são avaliados pelo Instituto dos Registos e do Notariado</a>, e é assim que se determina se cada novo cidadão ou cidadã pode ter um nome menos comum.</p>
        <p>O Totonome é um jogo que testa o critério de cada pessoa para determinar se um nome próprio poderia ou não ser registado em Portugal. São apresentadas duas escolhas, e ambas provêm de pedidos de aprovação que foram feitos ao IRN: uma das escolhas foi aceite, a outra não. Consegues descobrir qual o nome que passou a ser permitido, e qual ficou pelo caminho?</p>
    </div>
  </div>
  <div class="row medium-uncollapse large-collapse">
    <div class="large-8 large-centered columns">
        <h2>Como foi feito?</h2>
        <p>O Totonome é uma aplicação construída com <a href="http://angularjs.org">AngularJS</a> e <a href="http://foundation.zurb.com">Foundation</a>, junto com um pequeno servidor que usa <a href="http://django-rest-framework.org">Django REST</a> para validar e registar as escolhas. <br>Os ícones e a ilustração do título foram feitos com papel, lápis e <a href="http://inkscape.org">Inkscape</a>.</p>
        <p>O dataset dos nomes foi extraído, compilado e colocado na <a href="http://centraldedados.pt/nomes_proprios/">Central de Dados</a>, usando o <a href="http://tabula.technology">Tabula</a> e <a href="https://csvkit.readthedocs.org/">CSVkit</a>, com o propósito principal de ser empregue neste jogo. <br>A <a href="http://www.irn.mj.pt/sections/irn/a_registral/registos-centrais/docs-da-nacionalidade/vocabulos-admitidos-e/">base de dados original</a> é disponibilizada no <a href="http://irn.mj.pt">site</a> do IRN.</p>
    </div>
  </div>
  <div class="row medium-uncollapse large-collapse">
    <div class="large-8 large-centered columns">
        <h2>Quem fez?</h2>
        <p>A ideia original e um primeiro protótipo foram congeminados durante uma sessão de trabalho do <a href="http://transparenciahackday.org">Transparência Hackday Portugal</a>. <br>O jogo foi mostrado ao público pela primeira vez no <a href="http://transparenciahackday.org/2015/03/open-data-day-2015-o-rescaldo/">Open Data Day Portugal 2015</a>.</p>
        <p class="no-margin">A versão atual do jogo tem sido afinada e mantida por:</p>
        <ul class="credits">
          <li><a href="http://tiagovieira.pt">Tiago Vieira</a> &ndash; development do back-end</li>
          <li><a href="http://twitter.com/aiscarvalho">Ana Isabel Carvalho</a> &ndash; design do front-end</li>
          <li><a href="http://twitter.com/rlaf">Ricardo Lafuente</a> &ndash; arquitetura de dados e copywriting</li>
        </ul>
        <p>O Totonome contou igualmente com os preciosos contributos da Isa Neves, da Marlene Martins, da Margarida Carvalho e do Pedro Fernandes.</p>
    </div>
  </div>
</section><!-- /#about -->

<footer id="footer" class="row medium-uncollapse large-collapse">
  <p class="large-8 large-centered columns">
    Um projeto criado no <a href="http://transparenciahackday.org">Transparência Hackday</a> com a ajuda da <a href="http://centraldedados.pt">Central de Dados</a>.
  </p>
</footer>
